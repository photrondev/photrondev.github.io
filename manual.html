<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Copyright (c) 2024 Photron USA Inc. - All rights reserved. -->
    <title>INFINIWORKFLOW Manual</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Main Style Sheet for Webpage -->
    <link rel="stylesheet" href="manual.css">
</head>

<body>

    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">INFINWORKFLOW</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Installation <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li class=""><a href="#SystemRequirements">System Requirements</a></li>
                            <li class=""><a href="#DownloadablePackages">Downloadable Packages</a></li>
                            <li class=""><a href="#InstallationSteps">Installation Steps</a></li>
                            <li class=""><a href="#FirewallAccess">Firewall access</a></li>
                            <li class=""><a href="#InstallPatches">Installing patches</a></li>
                        </ul>
                    </li>

                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">User Interface <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#Menu">Application Menu</a></li>
                            <li><a href="#Catalog">Tools Catalog</a></li>
                            <li><a href="#Flowgraph">Flowgraph</a></li>
                            <li><a href="#Editor">Parameter Editor</a></li>
                            <li><a href="#Viewer">Viewer</a></li>
                            <li><a href="#ImportExport">IO</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Gestures <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#EdgeGestures">Edge Gestures</a></li>
                            <li><a href="#NodeGestures">Node Gestures</a></li>
                            <li><a href="#FlowgraphGestures">Flowgraph Gestures</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Context Menu <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#NodeMenu">Node</a></li>
                            <li><a href="#InspectAdjustNodeMenuFuncs">Inspect & Adjust</a></li>
                            <li><a href="#AttributeNodeMenuFuncs">Node Attributes</a></li>
                            <li><a href="#PerformanceNodeMenuFuncs">Performance</a></li>
                            <li><a href="#IONodeMenuFuncs">Input & Output</a></li>
                            <li><a href="#MLNodeNodeMenuFuncs">ML</a></li>
                            <li><a href="#ClipboardNodeMenuFuncs">Clipboard</a></li>
                            <li><a href="#ExperimentalNodeMenuFuncs">Experimental</a></li>
                            <li><a href="#FlowgraphMenu">Flowgraph Context Menu</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Viewer <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#Viewer">Image Viewer</a></li>
                            <li><a href="#DataFrame">Data frames</a></li>
                            <li><a href="#Tensors">Tensors</a></li>
                            <li><a href="#ThumbnailViewer">Thumbnail Flowgraph Viewer</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">ML <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#DataFrame">Data frames</a></li>
                            <li><a href="#GridSearch">Grid Search</a></li>
                            <li><a href="#Hyperparamereters">Hyperparamereters</a></li>
                            <li><a href="#Tensors">Tensors</a></li>
                            <li><a href="#CreateMacro">Create Macro</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Experimental <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#Publish">Publish</a></li>
                            <li><a href="#DistributionProcessing">Distributed Processing</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a class="dropdown-toggle" data-toggle="dropdown" href="#">Plugin SDK <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a href="#JsonSchema">JSON Schema</a></li>
                            <li><a href="#PythonSDK">Python SDK</a></li>
                            <li><a href="#CppSDK">C++ SDK</a></li>
                        </ul>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right">
                    <li><a href="http://www.photron.com" target="_blank"> <img id="logo" src="assets/photron.png" height="20" alt="Photron" /> </a></li>
                </ul>
            </div>
        </div>
    </nav>


    <h2>Introduction</h2>
    <p>A platform for building AI, ML, & Computer Vision pipelines using real-time sensing data</p>

    <img src="assets/ui.jpg" style="width:800px; height:440px;" />

    <h2>User Interface Elements</h2>
    <p>INFINIWORKFLOW runs in a browser with the following main UI components</p>
    <ul>
        <li><a href="#Menu">Application Menu</a></li>
        <li><a href="#Catalog">Tools Catalog</a></li>
        <li><a href="#Flowgraph">Flowgraph</a></li>
        <li><a href="#Editor">Parameter Editor</a></li>
        <li><a href="#Viewer">Viewer</a></li>
        <li><a href="#">Import/Export</a></li>

    </ul>

    <h3 id="Menu">Application Menu</h3>
    <img src="assets/ui_app_menu.jpg"  />
    <p>The application menu allows the following functionality</p>

    <ul>
        <li><i class="bi bi-justify"></i> Hide and Show the Tools Catalog</li>
        <li><i class="bi bi-cloud-upload"></i>  Import a workflow will open the import dialog and allow you to select an existing workflow from the demos folder using the <a href="#ImportExport">Import UI</a></li>
        <li><i class="bi bi-arrow-bar-left"></i>  Undo will undo the last action</li>
        <li><i class="bi bi-arrow-bar-right"></i> Redo will redo the prior action</li>
        <li><i class="bi bi-pause"></i> Pauses all the streaming input nodes which is useful if you are tracking and want to position the tracker marker</li>
        <li><i class="bi bi-chevron-bar-left"></i> Jump to the first frame for any playable nodes such as the Movie Reader</li>
        <li><i class="bi bi-chevron-left"></i> Jump to the previous frame for any playable nodes such as the Movie Reader</li>
        <li><i class="bi bi-chevron-right"></i> Jump to the next frame for any playable nodes such as the Movie Reader</li>
        <li><i class="bi bi-chevron-bar-right"></i> Jump to the last frame for any playable nodes such as the Movie Reader</li>
        <li><i class="bi bi-zoom-out"></i> Zoom out the flowgraph so you can see more of the nodes in the workflow</li>
        <li><i class="bi bi-aspect-ratio"></i> Zoom fit the flowgraph to show the default zoom and pan</li>
        <li><i class="bi bi-zoom-in"></i> Zoom in the flowgraph so you can see focus on the nodes in center of the workflow</li>
        <li><i class="bi bi-star"></i> Add authoring notes to the workflow to include your name and description of the workflow</li>
        <li><i class="bi bi-pencil-square"></i> Show the published view of the workflow. This is an experimental <a href="#Publish">feature</a> that allows you to simplify the workflow into a list of published parameters and hide the workflow. When in publish mode, click on this icon to switch back to the flowgraph mode again.</li>
        <li><i class="bi bi-calculator-fill"></i> Sets the preferred numeric range for some of the standard parameters that can be normalized, percentage and other ranges</li>
        <li><i class="bi bi-circle-half"></i> Light or dark theme switching of the UI colors</li>
        <li><i class="bi bi-nvidia"></i> Sets the current CUDA device when you have multiple GPUs. Any new nodes powered by CUDA will be executed on this current GPU device.</li>
        <li><i class="bi bi-cloud-download"></i> Saves the workflow using the <a href="#ImportExport">Export UI</a></li>
        <li><i class="bi bi-trash"></i> Clears the workflow to start a new one from scratch</li>
        <li><i class="bi bi-info-circle"></i> Displays the rendering status console which also indicates progress, warnings and errors</li>
        <li><i class="bi bi-grid-3x3-gap-fill"></i> Shows the Grid Search dialog that is used to optimize your ML models using the <a href="#GridSearch">GridSearch UI</a></li>
        <li><i class="bi bi-book"></i> Opens this manual</li>
        <li><i class="bi bi-chat-right-quote"></i> Localize the UI to different languages</li>
        <li><i class="bi bi-x-octagon"></i> Exit the application</li>
    </ul>

    <h2 id="Catalog">Tools Catalog</h2>
    <p>The tool catalog allows you to add new tools as nodes into your flowgraph</p>
    <div style="overflow: hidden; height:250px; ">
        <img src="assets/ui.jpg" style="margin-top: -982px;  " />
    </div>

    <p>
        The first tab will show all the tools and the remaining tabs show a subset of tools such as related to computer vision or ML etc. You can hover over
        the tab icon and a tooltip will show you the category name. Once a category tab is selected you can further refine the list of tools shown by entering keywords input,
        this is useful to quickly find a particular tool you want to insert into your workflow.

    </p>

    <div style="overflow: hidden; height: 250px; ">
        <img src="assets/ui_tool_select.gif" style="margin-top: -100px; " />
    </div>



    <p>
        Hovering over the tools shows a tooltip description of the tool. To insert a tool into the workflow can be done with the following gestures:
    </p>
    <ul>
        <li>
            <p>
                Drag and Drop
            </p>
            <img src="assets/ui_node_drag_drop.gif" />
        </li>
        <li>
            <p>
                Insert a node with edge
            </p>
            <img src="assets/ui_node_double_click_add.gif" />
        </li>
    </ul>

    <h3 id="Flowgraph">Flowgraph</h3>
    <div style="overflow: hidden; width:1800px; height:800px; ">
        <img src="assets/ui.jpg" style="margin-top: -100px; margin-bottom: -400px; margin-right: -400px; " />
    </div>
    <p>
        The flowgraph is used to construct your worflow that comprises of Nodes and Edges. Nodes represents functions that have input and generate outputs.
        These nodes are created by dragging tools into your workflow from the Tools Catalog. A node's input and output have 'ports' which are where edges can
        be connected. Edges are connections between the output port of an upstream node to the input port of a upstream node. Any inputs ports that are unconnected
        can also be set to specific values using the Parameter Editor. The color of the node indicates the implementation language for the as follows:
    </p>
    <table>
        <tr>
            <td><div style="background-color: #6B5B95; width: 50px; height: 50px; "> </div></td>
            <td>C++ Nodes (can be executed on GPU or CPU)</td>
        </tr>
        <tr>
            <td><div style="background-color: #306998; width: 50px; height: 50px; "> </div></td>
            <td>Python Nodes (can be executed on GPU or CPU)</td>
        </tr>
        <tr>
            <td><div style="background-color: #76B900; width: 50px; height: 50px; "> </div></td>
            <td>Cuda Kernels (always executed on the GPU)</td>
        </tr>
    </table>

    <p>The flowgraph has the following components:</p>
    <ul>
        <li><a href="#EdgeGestures">Edge Gestures</a></li>
        <li><a href="#NodeGestures">Node Gestures</a></li>
        <li><a href="#FlowgraphGestures">Flowgraph Gestures</a></li>
        <li><a href="#NodeMenu">Node Context Menu</a></li>
        <li><a href="#FlowgraphMenu">Flowgraph Context Menu</a></li>
    </ul>

    <h3 id="EdgeGestures">Edge Gestures</h3>
    <ul>
        <li>
            <p>
                Adding an Edge to connect the output of an upstream node to the input of a downstream node. In this example, we want to have the Yolo Classification be done on a Movie Reader, we thus connect the output of the Movie Reader node to the input of the Yolo Classification node.
                Click on the source port of the upstream node and the drag to the destination port of the downstream node. A green line color indicates that the edge is allowed which is based on the type matching between the two ports
            </p>
            <img src="assets/ui_connect_edge.gif" />
            <p>If the types do not match then a red line color indicates that the edge is invalid</p>
            <img src="assets/ui_invalid_connect_edge.gif" />
            <p>
                There are a few exceptions to allow different types to be connected can be connected to each other. For example, the image2D type,
                which represents a 2D image in system memory, can be connected to a type cuda2D, a 2D image in GPU memory and vice-versa. The exceptions are as follows:
            </p>
            <table>
                <tr>
                    <th>Output Type</th>
                    <th>Input Type</th>
                </tr>
                <tr>
                    <td>*</td>
                    <td>Any type</td>
                </tr>
                <tr>
                    <td>Any type</td>
                    <td>*</td>
                </tr>
                <tr>
                    <td>image2D, matrix2D, buffer2D, cuda2D or texture2D</td>
                    <td>*2D</td>
                </tr>
                <tr>
                    <td>image2D, matrix2D or cuda2D</td>
                    <td>image2D, matrix2D or cuda2D</td>
                </tr>
                <tr>
                    <td>numeric</td>
                    <td>double, int, bool or numeric</td>
                </tr>
                <tr>
                    <td>double, int, bool or numeric</td>
                    <td>numeric</td>
                </tr>
                <tr>
                    <td>numeric2</td>
                    <td>double2, int2</td>
                </tr>
                <tr>
                    <td>double2, int2</td>
                    <td>numeric2</td>
                </tr>
            </table>
        </li>
        <li>
            <p>
                Removing an Edge disonnects the output of upstream node to the input of a downstream node. In this example we no longer want the Yolo Classification be done on the output of the Movie Reader.
                Hover over the edge, it will indicate it can be deleted when a change in cursor happens, then click on the edge to delete it
            </p>
            <img src="assets/ui_disconnect_edge.gif" />
        </li>
    </ul>


    <h3 id="NodeGestures">Node Gestures</h3>
    <ul>
        <li>
            <p>
                Select a node can be done with a single click on the node. The node is shown highlighted in blue when it is selected
            </p>
            <img src="assets/ui_select_node.gif" />
        </li>
        <li>
            <p>
                Clicking and dragging on a node will select it and also allow you to move the node around in the flowgraph
            </p>
            <img src="assets/ui_node_move.gif" />
        </li>
        <li>
            <p>
                Holding the shift key whilst clicking allows you to add more nodes to the selection
            </p>
            <img src="assets/ui_node_shift_select.gif" />
        </li>
        <li>
            <p>
                To deselect all the nodes you can click on the flowgraph
            </p>
            <img src="assets/ui_deselect_all.gif" />
        </li>
        <li>
            <p>
                Multiple nodes can also be selected by doing a rectangular selection, hold the alt key and drag the mouse which shows a box selection which will select all the nodes in the rectangle intersection after the mouse is released
            </p>
            <img src="assets/ui_boundbox_select.gif" />
        </li>
        <li>
            <p>
                To delete a node can be done by clicking the delete key
            </p>
        </li>
        <li>
            <p>
                You can also 'rip' a node to remove it from the edges by shaking the node quickly
            </p>
            <img src="assets/ui_node_rip_edge.gif" />
        </li>
        <li>
            <p>
                To zoom into the center of the flowgraph you can press the + hotkey
            </p>
        </li>
        <li>
            <p>
                To zoom out of the flowgraph you can press the - hotkey
            </p>
        </li>
    </ul>

    <h3 id="FlowgraphGestures">Flowgraph Gestures</h3>
    <ul>
        <li>
            <p>
                To pan the flowgraph you can click and then drag the mouse. This allows you to navigate the workflow in the flowgraph when it becomes more complex
            </p>
            <img src="assets/ui_flowgraph_pan.gif" />
        </li>
        <li>
            <p>
                You can also zoom in and out using mouse scroll wheel or zoom gesture
            </p>
            <img src="assets/ui_flowgraph_zoom.gif" />
        </li>
        <li>
            <p>
                When nodes are not in the visible viewport then indicators are shown on the boundary of the viewport.
                This indicators are useful to highlight scrolling or zooming will yield hidden nodes.
            </p>
            <img src="assets/ui_flowgraph_indicators.gif" />
        </li>
    </ul>


    <h3 id="NodeMenu">Node Context Menu</h3>
    <p>Clicking the left mouse button over the node brings up the node context menu and also selects the node</p>
    <img src="assets/ui_node_menu.gif" />
    <p id="InspectAdjustNodeMenuFuncs">Inspect and adjust functions</p>
    <ul>
        <li>
            <i class="glyphicon glyphicon-pushpin"></i> View & Edit: this will make the selected node show up in the Viewer and also Parameter Editor.
            Typically after inserting a new node you will want to adjust the parameters and inspect the output
        </li>
        <li><i class="glyphicon glyphicon-eye-open"></i> View: allows you to only change the inspection of the Viewer to the selected node whilst not modify which node you are editing</li>
        <li><i class="glyphicon glyphicon-edit"></i> Edit: allows you to only update the Parameter Editor to the selected node whilst not modify which node you are viewing</li>
    </ul>
    <p id="AttributeNodeMenuFuncs">Node attribute functions</p>
    <ul>
        <li>
            <i class="glyphicon glyphicon-play"></i> Play/Stop: for nodes that are playable, for example a Movie Reader, you can start and stop the streaming to the selected node.
            The application menu has the same function but that will apply to all nodes that are playable in the workflow.
        </li>
        <li>
            <i class="glyphicon glyphicon-italic"></i> Rename: allows you to modify the name of the node. The name is initially set to be based on the Tool's name but
            will automatically be made a unique name by prefixing with numbers.
        </li>
        <li><i class="glyphicon glyphicon-ok-circle"></i> Enable: enable a node so that it is used in processing, by default all nodes are enabled</li>
        <li><i class="glyphicon glyphicon-remove-circle"></i> Disable: disable a node so that it is not used in processing, in which case tyically the first input is passed as the output for this node to bypass the node processing</li>
    </ul>
    <p id="PerformanceNodeMenuFuncs">Performance related functions</p>
    <ul>
        <li><i class="bi bi-nvidia"></i> Cuda Device: is meant for systems with multiple GPUs to allow you to set the current GPU, any subsequent nodes that are GOU accelerated will be executed on the current GPU </li>
        <li>
            <i class="glyphicon glyphicon-resize-small"></i> Merge: For the selected nodes you can merge them to run in the same CPU thread group. By default each C++ node is
            executed in a different CPU thread for automatic pipeline acceleration, however, there may be circumstances that you want to finely control the order of stream processing that you wish
            to execute on the same CPU thread
        </li>
        <li><i class="glyphicon glyphicon-resize-full"></i> Split: For the selected nodes you can split them to run on different CPU threads</li>
        <li>
            <i class="bi bi-distribute-horizontal"></i> Distribute: This is an experimental feature that allows you to select a contigious set of nodes and do the execution on
            a different process on the same system, a different machine altogether. The selected nodes are removed and two distribution nodes, Source and Sink, are added to
            receive and send data to the external process.
        </li>
    </ul>

    <p id="IONodeMenuFuncs">Input/output port related functions</p>
    <ul>
        <li>
            <i class="glyphicon glyphicon-edit"></i> Hide/Show Inputs: for the selected node, allows you to hide or show the inputs.
            Hidden inputs will not be shown in the node's flowgraph drawing or in the Parameter Editor. This feature allows you to simplify the workflow to focus on the most relevant inputs.
        </li>
        <li><i class="glyphicon glyphicon-plus"></i> Insert Output: for the selected node, if the node allows dynamic outputs, allows you to add a new output</li>
        <li><i class="glyphicon glyphicon-minus"></i> Remove Output: for the selected node, if the node allows dynamic outputs, allows you to remove the last output</li>
        <li><i class="glyphicon glyphicon-plus"></i> Insert Input: for the selected node, if the node allows dynamic inputs, allows you to add a new input</li>
        <li><i class="glyphicon glyphicon-minus"></i> Remove Output: for the selected node, if the node allows dynamic inputs, allows you to add a remove the last input</li>
    </ul>

    <p id="MLNodeNodeMenuFuncs">
        ML functions</pid="IOFuncs">
        <ul>
            <li><i class="bi bi-arrow-right-circle"></i> Create Macro: allows you to create a new tool by using the <a href="#CreateMacro">Create Macro UI</a></li>
            <li><i class="glyphicon glyphicon-certificate"></i> Hyperparameters: allows you to set the range of values on the hyperparameters of your model using the <a href="#Hyperparameters">Hyperparameters UI</a></li>
            <li><i class="glyphicon glyphicon-search"></i> Grid Search: allows you to perform a grid search to optimize your model using <a href="#GridSearch">Grid Search UI</a></li> </li>
        </ul>

    <p id="ClipboardNodeMenuFuncs">
        Clipboard functions</pid="ClipboardNodeMenuFuncs">
        <ul>
            <li><i class="glyphicon glyphicon-copy"></i> Copy: copies the selected nodes and connected edges to the clipboard</li>
            <li><i class="glyphicon glyphicon-paste"></i> Paste: pastes a copy of the selected nodes from the clipboard to the workflow. The copied nodes will all be renamed to have unique names in the workflow</li>
            <li><i class="glyphicon glyphicon-scissors"></i> Cut: deletes the selected nodes and connected edges and pastes them to the clipboard</li>
            <li><i class="glyphicon glyphicon-duplicate"></i> Duplicate: duplicates the selected nodes and connected edges to the workflow. The duplicated nodes will all be renamed to have unique names in the workflow</li>
            <li><i class="glyphicon glyphicon-trash"></i> Delete: deletes the selected nodes and connected edges</li>
        </ul>

    <p id="ExperimentalNodeMenuFuncs">Experimental functions</p>
    <ul>
        <li>
            <i class="glyphicon glyphicon-shopping-cart"></i> Publish: an experimental <a href="#Publish">feature</a>  that allows you mark which of the nodes inputs and outputs will be available in the publish view.
            The published view is a simplification of the UI where the flowgraph no longer is shown and instead the editor has only the list of published inputs and the viewer can only show the list of
            published outputs. The future goal of this feature is to allow you to publish a simple app that has the critical controls that are needed in the deployment of your
            workflow in production and whilst hiding the complexity of the workflow
        </li>
        <li><i class="bi bi-chat"></i> Chatbox: an experimental feature that allows you to type a question and get an answer in the form of a automatically generated workflow</li>
        <li><i class="bi bi-pen"></i> Label: an experimental feature that labels your workflow, to indicate the purpose of your workflow, so that it can be used in Chatbox training</li>
        <li><i class="bi bi-link"></i> Copy URL: is available for viewer nodes that show the thumbnail of the image, the streaming URL of the image is copied to the system clipboard</li>
    </ul>


    <h3 id="FlowgraphMenu">Flowgraph Context Menu</h3>
    <p>When you bring up the context menu without a node selected, the flowgraphs viewport functions are shown:</p>
    <ul>
        <li><i class="bi bi-zoom-out"></i> Zoom Out: the flowgraph so you can see more of the nodes in the workflow </li>
        <li><i class="bi bi-aspect-ratio"></i> Zoom Fit: defaults the flowgraph to show the default zoom and pan</li>
        <li><i class="bi bi-zoom-in"></i> Zoom In: in the flowgraph so you can see focus on the nodes in center of the workflow</li>
        <li><i class="bi bi-border-all"></i> Select All: allows you to select all the nodes in your flowgraph</li>
    </ul>


    <h3 id="Editor">Parameter Editor</h3>
    <p>The parameter editor allows you to edit the parameters of the currently edited node</p>
    <div style="overflow: hidden; width:2000px; height:500px; ">
        <img src="assets/ui.jpg" style="margin-bottom: -500px; margin-left: -2000px; " />
    </div>

    <p>
        The UI consits of a tool description link, followed by the input parameters of the edited node and the dialog buttons.
        The description link, which shows the tool this node represents, when clicked will open a webpage that has the description of the tool.
        The inputs parameters are the ones that are able to be edited with manual values and any inputs that are connected via the flowgraph are
        not visible. You can also hide parameter inputs using the <a href="#IONodeMenuFuncs">IO functions</a>.
    </p>
    <p>
        Hovering over the parameter will show the description of the parameter <img src="assets/ui_tooltip_control.jpg" />
    </p>
    <p>
        The dialog buttons allow you to close the dialog either you can accept the changes made by clicking OK or reject any changes made to the
        parameters by clicking Cancel. A button also allows you to reset all the parameters to the original default tool settings.
        The UI for each parameter input will be based on the type of the input, but all of them will have a reset icon <i class="bi bi-arrow-counterclockwise"></i> that
        allows you to reset that particular parameter input back to its default value. The different types of parameter UI controls are as follows
    </p>

    <table>
        <tr>
            <th>UI Look</th>
            <th>Example</th>
            <th>Description</th>
        </tr>
        <tr>
            <td>Numeric textfield</td>
            <td> <img src="assets/ui_numeric_control.jpg" width="300" /> </td>
            <td> A numeric input allows you to enter the value. There are also step controls that allow you to increment one unit up and down. </td>
        </tr>
        <tr>
            <td>Numeric2 textfield</td>
            <td> <img src="assets/ui_numeric2_control.jpg" width="300" /> </td>
            <td> Two numeric inputs allow you to enter both numerical inputs </td>
        </tr>
        <tr>
            <td>Numeric slider</td>
            <td> <img src="assets/ui_slider_control.jpg" width="300" /> </td>
            <td> If the slider has minimum and maximum values a slider look appears </td>
        </tr>
        <tr>
            <td>Numeric2 slider</td>
            <td> <img src="assets/ui_slider2_control.jpg" width="300" /> </td>
            <td>
                Two numeric inputs with sliders that can optionally be locked together to modify both values
                to the same value
            </td>
        </tr>
        <tr>
            <td>Checkbox</td>
            <td> <img src="assets/ui_checkbox_control.jpg" width="300" /> </td>
            <td> A checkbox toggle to allow you to set inputs of type bool </td>
        </tr>
        <tr>
            <td>Selection menu</td>
            <td> <img src="assets/ui_select_control.jpg" width="300" /> </td>
            <td>
                A selection menu allows you to set the value to one of the predefined
                values from a pulldown menu
            </td>
        </tr>
        <tr>
            <td>Multi selection menu</td>
            <td> <img src="assets/ui_multi_select_control.jpg" width="300" /> </td>
            <td>
                Multi selection allows you to add tags of permitted values. In some
                cases you can add tags to any custom value
            </td>
        </tr>
        <tr>
            <td>Textfield</td>
            <td> <img src="assets/ui_text_control.jpg" width="300" /> </td>
            <td> A multi line textfield to allow you to set inputs of type string </td>
        </tr>
        <tr>
            <td>Point</td>
            <td> <img src="assets/ui_point_control.jpg" width="300" /> </td>
            <td>
                A point allows you to set the values with a textfield and also
                has an icon <i class="bi bi-plus-circle"></i> when pressed opens the viewer and you can select a point by clicking
                in the <a href="#PointViewer">viewer</a> directly
            </td>
        </tr>
        <tr>
            <td>Color</td>
            <td> <img src="assets/ui_color_control.jpg" width="300" /> </td>
            <td>
                A color button when clicked allows you to set the color using a color dialog <br>
                <img src="assets/ui_color_dialog_control.jpg" width="300" />
            </td>
        </tr>
        <tr>
            <td>Curve</td>
            <td> <img src="assets/ui_curve_control.jpg" width="300" /> </td>
            <td>
                An icon <i class="bi bi-bezier2"></i> when pressed opens the bezier curve editor<br>
                <img src="assets/ui_graph_control.jpg" width="300" />
            </td>
        </tr>
        <tr>
            <td>Map</td>
            <td> <img src="assets/ui_map_control.jpg" width="300" /> </td>
            <td>
                Clicking on the empty area in the dialog opens the Key/Value editor together with documentation about the hyperparameters<br>
                <img src="assets/ui_map_dialog_control.jpg" width="700" />
            </td>
        </tr>
        <tr>
            <td>Filebrowser</td>
            <td> <img src="assets/ui_file_control.jpg" width="300" /> </td>
            <td>
                Opens the IO dialog that allows you to to set the filename using a textfield. The prefix ${assets} is used to specifiy the file location is in the assets folder.
                An icon <i class="bi bi-folder-fill"></i> when pressed opens the IO Dialog that allows you to set the file location
            </td>
        </tr>
        <tr>
            <td>Tabs</td>
            <td> <img src="assets/ui_tabs_control.jpg" width="300" /> </td>
            <td>
                Some of the tools also have a tab UI to simplify the controls into logical groups
            </td>
        </tr>
    </table>



    <h3 id="Viewer">Viewer</h3>
    <p>The viewer allows you to view the outputs of the currently viewed node</p>
    <div style="overflow: hidden; width:770px; height:580px; ">
        <img src="assets/ui.jpg" style="margin-top: -220px; margin-bottom: -400px; margin-left: -150px; margin-right: -400px;" />
    </div>

    <p id="PointViewer">
        A node can be viewed using the node context menu and selecting <a href="#InspectAdjustNodeMenuFuncs">'View' or 'View & Edit'</a>. When viewing a node with multiple outputs a menu
        will ask which output to view:
    </p>
    <img src="assets/ui_viewer_outputs.gif" />

    <ul>
        <li><i class="bi bi-info-circle"></i> Resolution Information: Shows the resolution, bit depth and whether the image is in system or GPU memory</li>
        <li><i class="bi bi-fullscreen"></i> Zoom Fit: Sets the size of the viewer window to the size of the image</li>
        <li><i class="bi bi-aspect-ratio"></i> Maximize/Minimize: the viewer</li>
    </ul>

    <p>
        The viewer also has controls to zoom in and pan. Using the mouse scroll wheel or zoom gesture you can also then pan by dragging the image. When zoomed in, a thumbnail is shown of the full image
        together with a slider to set the zoom amount.
    </p>
    <img src="assets/ui_viewer_zoom.gif" />

    <p id="PointViewer">
        Point input parameters in the Parameter Editor can be set in the overlay. Select the overlay <i class="bi bi-plus-circle"></i> icon and then click in the viewer
        to set the location of the point:
    </p>
    <img src="assets/ui_viewer_point.gif" />

    <p id="ThumbnailViewer">
        Only one node can be viewed at one time in the viewer. However, the flowgraph can also show a thumbnail viewer that shows the results of the output of the node using the 'Image Viewer' tool. This allows you to
        show multiple viewers at the same time on the workflow.
    </p>
    <img src="assets/ui_thumbnail_viewer.gif" />

    <p>The viewer as well as displaying images has specific UI to display</p>
    <ul>
        <li><a href="#DataFrame">Data frames, 2D dimensional tables</a></li>
        <li><a href="#Tensor">Tensors, multidimensional numerical arrays used in ML</a></li>
    </ul>

    <h3 id="DataFrame">Data frames</h3>
    <p>
        Dataframes represent 2D tables and are implemented using the Pandas Python module.
        The viewer can display dataframes in a table. The controls allow you to slice a set of the rows and columns, in the example below we slice rows [30-40).
        The icon <i class="bi bi-arrow-repeat"></i> allows different representations of the table including show the sliced rows and columns,
        and red cells represent missing data; a summary description of the statistics of each column and the description of the types of each column:
    </p>
    <img src="assets/ui_viewer_dataframe.gif" width="400" />

    <h3 id="Tensors">Tensors</h3>
    <p>
        Tensors represent multi-dimensional numeric arrays and are used in the PyTorch Python module.
        The viewer can display tensors in a variety of different visualizations where it will select the most useful
        visualization first and by clicking the <i class="bi bi-arrow-repeat"></i> allows you to visualize other representations of the tensor.
        Slicing controls are also available to reduce the tensor to a subset of its data.
    </p>
    <p>
        A 1D dimensional tensors can be viewed as a histogram; a dot plot; a line chart and a histogram chart:
    </p>
    <img src="assets/ui_viewer_tensor1d.gif" width="400" />
    <p>
        A 2D dimensional tensors can be viewed as a heatmap; a 3D height map plot; a line chart and a table:
    </p>
    <img src="assets/ui_viewer_tensor2d.gif" width="400" />
    <p>
        A 3D dimensional tensors can be viewed as a 3D plot and abbrevaited tensor list:
    </p>
    <img src="assets/ui_viewer_tensor3d.gif" width="400" />
    <p>
        Images can also be converted to tensors(using the 'Image to Tensor' tool) and they will be viewed as a 3D image; a 3D height map plot; a 3D color space plot, and abbrevaited tensor list:
    </p>
    <img src="assets/ui_viewer_tensor_image.gif" width="400" />


    <h3 id="ImportExport">Import/Export</h3>
    <p>
        Input and Export files are shown in a custom file selector dialog. Files <i class="bi bi-file-earmark-fill"></i>icons and Folder <i class="bi bi-folder-fill"></i> icons are selectable.
        You have restricted access to the files that are located in either the ${assets} or ${demos} folders
        where INFINIWORKFLOW is installed. To import your own images, copy the files to the ${assets} folder and then they will be available to
        select in the file selector dialog.
    </p>
    <img src="assets/ui_import_workflow.gif" />


    <h3 id="Hyperparamereters">Hyperparamereters</h3>
    <p>
        You can set the hyperparameters using the node context menu and selecting <a href="#MLNodeNodeMenuFuncs">'Hyperparameters'</a>.
        This brings up a dialog that allows you to select each input parameter and also set the range of values you want to have as part
        of the grid search. The dialog also includes the documentation for the model including the values expected for each paremeter argument.
    </p>
    <img src="assets/ui_hyperparams.gif" />

    <h3 id="GridSearch">Grid Search</h3>
    <p>
        Once you have refined your <a href="#Hyperparamereters">'Hyperparameters'</a> then you can start a Grid Search
        on a metric node you wish to maximize or minimize using the node context menu and selecting <a href="#MLNodeNodeMenuFuncs">'Grid Search'</a>. The results of the Grid Search
        are done in an different process but you can see the results by clicking the <i class="bi bi-grid-3x3-gap-fill"></i> icon in
        the application menu. The dialog will show the latest progress for each combination in the grid search and color
        indicators to show which is the highest or lowest value so far found.
        You can select a link in one of the rows to optimize your model which sets the hyperparameters values to the row.
    </p>
    <img src="assets/ui_gridsearch.gif" />

    <h3 id="CreateMacro">Create Macro</h3>
    <p>
        When building models using the PyTorch nodes, the neural networks can get large with multiple nodes to generate
        the entire neural networl. You can create a macro to create a tool that replaces all the nodes which can be further used in
        the future and promotes sharing of models. When you create a macro you open the node context menu and select <a href="#MLNodeNodeMenuFuncs">'Create Macro'</a>.
        The dialog allows you to name and set optional notes that will be associated with this new tool.
    </p>
    <img src="assets/ui_create_macro.gif" />


    <h2>Installation</h2>
    <h3 id="SystemRequirements">System Requirements</h3>
    <p>
        INFINIWORKFLOW runs on a modern PC with Windows 11 or higher with an Intel or AMD processor and a NVIDIA GPU. It is highly recommended to have a multicore processor as
        the execution will be more smoother. The software will run on machines without a NVIDIA GPU but that will significantly reduce the performance especially
        for ML workflows. You must also have the latest Google Chrome browser installed : 131.0.6778.140 or higher.
    </p>


    <h3 id="DownloadablePackages">Downloadable Packages</h3>
    <p>The following are the full set of downloads packages:</p>
    <table>
        <tr>
            <th>Name</th>
            <th>Description</th>
            <th>Link</th>
        </tr>

        <tr>
            <td> INFINIWORKFLOW </td>
            <td>
                Full install including Python distrbution
            </td>
            <td>  <a>infiniworkflow</a> </td>
        </tr>

        <tr>
            <td> INFINIWORKFLOW PATCH </td>
            <td>
                Patch install of latest binary build with reduced size (does not include Python or bin folder)
            </td>
            <td>  <a>infiniworkflow_patch</a> </td>
        </tr>

        <tr>
            <td> INFINIWORKFLOW SDK </td>
            <td>
                SDK to allow you to write your own Python and C++ Plugins for INFINIWORKFLOW
            </td>
            <td>  <a>external_sdk</a> </td>
        </tr>

        <tr>
            <td> OpenCV Barcode Detection Inference </td>
            <td>
                <a href="https://docs.opencv.org/4.x/d5/d04/classcv_1_1wechat__qrcode_1_1WeChatQRCode.html">WeChat QRCode including CNN models for `wechat_qrcode` module, including the detector model and the super scale model</a>
            </td>
            <td>  <a>barcode</a> </td>
        </tr>

        <tr>
            <td> Cityscapes Segmentation Training & Testing </td>
            <td>
                <a href="https://www.cityscapes-dataset.com/">Semantic Understanding of Urban Street Scenes</a>
            </td>
            <td>  <a>cityscapes</a> </td>
        </tr>

        <tr>
            <td> Colorizarion Inference </td>
            <td>
                <a href="https://github.com/alexellis/faas-colorization/blob/master/function/README.md">Colorful Image Colorization</a>
            </td>
            <td>  <a>colorization</a> </td>
        </tr>

        <tr>
            <td> Tracking Inference </td>
            <td>
                <a href="https://github.com/foolwood/DaSiamRPN">Formulates the task of visual tracking as a task of localization and identification simultaneously</a>
            </td>
            <td>  <a>dasiamrpn</a> </td>
        </tr>

        <tr>
            <td> Edge Inference </td>
            <td>
                <a href="https://github.com/ashukid/hed-edge-detector/blob/master/README.md">Code for edge detection using pretrained hed model(caffe) using OpenCV</a>
            </td>
            <td>  <a>edge</a> </td>
        </tr>

        <tr>
            <td> Face Detect Inference using Haarcascades </td>
            <td>
                <a href="https://github.com/opencv/opencv/tree/master/data/haarcascades">Code for edge detection using pretrained hed model(caffe) using OpenCV</a>
            </td>
            <td>  <a>haarcascades</a> </td>
        </tr>

        <tr>
            <td> Face Detect Inference using Haarcascades </td>
            <td>
                <a href="https://github.com/opencv/opencv/tree/master/data/haarcascades">Face Detect Inference using Haarcascades using OpenCV</a>
            </td>
            <td>  <a>haarcascades</a> </td>
        </tr>

        <tr>
            <td> Joint Body Parsing & Pose Estimation Network </td>
            <td>
                <a href="https://github.com/Engineering-Course/LIP_JPPNet">This novel joint human parsing and pose estimation network</a>
            </td>
            <td>  <a>human</a> </td>
        </tr>

        <tr>
            <td> Mask Segmentation Inference </td>
            <td>
                <a href="https://github.com/sambhav37/Mask-R-CNN/tree/master">Mask Segmentation</a>
            </td>
            <td>  <a>mask_rccn</a> </td>
        </tr>

        <tr>
            <td> MiDaS Depth Inference </td>
            <td>
                <a href="https://pytorch.org/hub/intelisl_midas_v2/">MiDaS computes relative inverse depth from a single image</a>
            </td>
            <td>  <a>midas</a> </td>
        </tr>

        <tr>
            <td> Person Detection Inference </td>
            <td>
                <a href="https://github.com/opencv/opencv/blob/4.x/samples/dnn/person_reid.py">OpenCV Person Detection Inference</a>
            </td>
            <td>  <a>personReID</a> </td>
        </tr>

        <tr>
            <td> Hand Pose Inference </td>
            <td>
                <a href="https://docs.opencv.org/3.4/d7/d4f/samples_2dnn_2openpose_8cpp-example.html">OpenCV Hand Pose Inference</a>
            </td>
            <td>  <a>pose</a> </td>
        </tr>

        <tr>
            <td> Segmentation Inference </td>
            <td>
                <a href="https://github.com/e-lab/ENet-training">A Deep Neural Network Architecture for Real-Time Semantic Segmentation</a>
            </td>
            <td>  <a>segmentation</a> </td>
        </tr>

        <tr>
            <td> OpenCV Text Spotting Detection Inference </td>
            <td>
                <a href="https://docs.opencv.org/4.x/d4/d43/tutorial_dnn_text_spotting.html">An End-to-End Trainable Neural Network for Image-based Sequence Recognition and Its Application to Scene Text Recognition</a>
            </td>
            <td>  <a>text_spotting</a> </td>
        </tr>

        <tr>
            <td> UTKFace Dataset </td>
            <td>
                <a href="https://susanqq.github.io/UTKFace/">UTKFace dataset is a large-scale face dataset with long age span </a>
            </td>
            <td>  <a>utkface</a> </td>
        </tr>


        <tr>
            <td> YOLO Object Detection Inference </td>
            <td>
                <a href="https://github.com/ultralytics/yolov5">A computer vision model that uses deep learning to detect objects in images and videos </a>
            </td>
            <td>  <a>yolo</a> </td>
        </tr>

    </table>




    <h3 id="InstallationSteps">Installation Steps</h3>
    <p>
        Download the INFINWORKFLOW package from Photron's website. There are multiple packages, the first package to download is infiniworkflow_v1_0.zip.
        Unzip this file and then double click on the infiniworkflow.bat file in the unzipped folder:
    </p>
    <img src="assets/ui_bat_file.jpg" />

    <p>
        A webpage displayed in the Google Chrome browser should
        appear - if another browser shows up then change your default browser to Chrome and redo this step.
    </p>

    <p>
        The first thing that will be displayed in the browser is the INFINIWORKFLOW EULA which you must agree to. You will also see a Windows dialog that requests "Do you want to allow public and private networks to access the app?" for Python
        - you must allow access.
    </p>

    <h3 id="FirewallAccess">Firewall Access</h3>
    <p>
        When you install INFINIWORKFLOW and run it the first time, you should see a Windows dialog that requests "Do you want to allow public and private networks to access the app?" for Python
        - you must allow access. If this dialog does not pop up and INFINWORKFLOW does not show images in the viewer then you have to manually grant access to
        allow INFINIWORKFLOW's Python installation to have access to public and private networks as follows:
        <ul>
            <li>Open Settings: Click the Start button and select "Settings".</li>
            <li>Navigate to Network & Internet: Select "Network & Internet" from the left-hand menu.</li>
            <li>Access Windows Security: Click on "Windows Security".</li>
            <li>Go to Firewall & Network Protection: Choose "Firewall & network protection".</li>
            <li>Allow an App through Firewall: Select "Allow an app through firewall".</li>
            <li>Select the App: Select the python.exe file from the INFINIWORKFLOW installation and check the boxes next to "Domain", "Private", and "Public".</li>
        </ul>
    </p>
    <h3 id="InstallPatches">Installation Patches</h3>
    <p>
        There are two flavours of patches - one is a patch to the application and the others are feature patches to allow installation of different demos and packages.

        The application patch, for example it will be names something as follows: infiniworkflow_patch_v1_0.zip, will be available on the Photron website
        and is meant to patch your exisiting installation with a smaller set of files and thus has a substantially smaller download size. It is expected
        that the application patch will be frequently updated when bugs are fixes and small features added. To patch you should open a Windows Powershell prompt
        and then change the directory to your INFINIWORKFLOW folder (i.e. where you unzipped your original installation). Then type the following where you
        should replace /folder/to/ to the actual folder you downloaded the application patch:

        <pre>
            patch.bat /folder/to/infiniworkflow_patch_v1_0.zip
        </pre>

        The feature patches are meant to allow new functionaility including demos and assets such as the ML model.
        For example you can download the YOLO classifier feature patch, yolo_v1_0.zip, from the Photron website and then install by open a Windows Powershell prompt
        and then change the directory to your INFINIWORKFLOW folder and type the following where you
        should replace /folder/to/ to the actual folder you downloaded the feature patch:
        <pre>
            patch.bat /folder/to/yolo_v1_0.zip
        </pre>

    </p>

    <h2>Experimental Features</h2>
    <h3 id="DistributionProcessing">Distributed Processing</h3>
    <p>
        This feature allows you to do processing on a different process on the same machine or a different machine on the network.

        You can start the distributted rendering by selecting a contigious set of nodes
        and then using the node context menu and selecting <a href="#ExperimentalNodeMenuFuncs">'Distributed'</a>.
        This brings up a dialog that allows you to set the URL for the server that will be performing the processing. Once
        you click Ok then the selected nodes are replaced by two nodes, the Distrubuted Sink and Distributed Source. The Sink
        node will send data from your system to the distrbuted server and the Source node will receive data from
        the distributed server.
    </p>
    <img src="assets/ui_distributed_processing.gif" />

    <h3 id="Publish">Publish</h3>
    <p>
        This feature allows you to do simplify your worflow to just a subset of input parameters you want to expose as well as a limted subset of outputs that
        can be viewed. he future goal of this feature is to allow you to publish a simple app that has the critical controls that are needed in the deployment of your
        workflow in production and whilst hiding the complexity of the workflow.

        The first step is to select the nodes you want to publish parameters by selecting a contigious set of nodes
        and then using the node context menu and selecting <a href="#ExperimentalNodeMenuFuncs">'Publish'</a>
    </p>
    <img src="assets/ui_publishing.gif" />

    <p>
        Once you have selected the subset of input and outputs then you can click on the publish <i class="bi bi-pencil-square"></i> icon in the application menu
        and the flowgraph is hidden and a simpler UI only showing the published controls in the Parameter Editor and a fullscreen viewer is shown. You
        can switch back to the standard flowgraph view by pressing the publish icon again.
    </p>
    <img src="assets/ui_publish_view.gif" />

    <h2>Plugin SDK</h2>
    <p>
        Plugins can be implemented in C++ or Python and both will require a JSON file. The JSON Schema specifies the input and output parameters as well
        as the name and description of the plugin amonst other things.
    </p>

    <h3 id="JsonSchema">JSON Schema</h3>
    <p>
        All plugins must have an accompanying JSON file. The JSON file specifies the input and output parameters as well
        as the name and description of the plugin amonst other things. The specification of the schema is as follows:
    </p>

    <table>
        <tr>
            <th>Attribute name</th>
            <th>Mandatory</th>
            <th>Default Value</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td>title</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The UI name of the plugin</td>
            <td>
                <pre>"title" : "Canny Edge Detector"</pre>

                Or you can specify a localized set

<pre>"title": {
    "en_US": "Canny Edge Detector",
    "ja-JP": "キャニーエッジ検出器",
    "es-ES": "Detector de bordes Canny",
    "de_DE": "Canny Kantendetektor",
    "zh_CN": "Canny 边缘检测器"
}</pre>

            </td>
        </tr>

        <tr>
            <td>identifier</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The name of the plugin file</td>
            <td>
                Python:
                <pre>"identifier": "day_of_week.py"</pre>

                C++:

                <pre>"identifier": "Canny2.plugin"</pre>

            </td>
        </tr>

        <tr>
            <td>description</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The description that explains the purpose of this plugin which will be shown in the UI</td>
            <td>
                <pre>"description" : "Canny Edge Detection is a popular edge detection algorithm"</pre>

                Or you can specify a localized set

<pre>"description": {
    "en_US": "Canny Edge Detection is a popular edge detection algorithm",
    "ja-JP": "Canny Edge Detectionは人気のエッジ検出アルゴリズムです",
    "es-ES": "Canny Edge Detection es un popular algoritmo de detección de bordes",
    "de_DE": "Canny Edge Detection ist ein beliebter Kantenerkennungsalgorithmus",
    "zh_CN": "Canny 边缘检测是一种流行的边缘检测算法"
}</pre>

            </td>
        </tr>

        <tr>
            <td>url</td>
            <td></td>
            <td>www.photron.com</td>
            <td>A URL that is shown in the UI to have more information about the plugin</td>
            <td>
                <pre>"url": "https://docs.opencv.org/3.4/dd/d1a/group__imgproc__feature.html#ga04723e007ed888ddf11d9ba04e2232de"</pre>
            </td>
        </tr>

        <tr>
            <td>tags</td>
            <td></td>
            <td></td>
            <td>A list of tags that is associated with the plugin</td>
            <td>
                <pre>"tags": ["opencv", "edges", "canny"]</pre>

                Or you can specify a localized set:
<pre>"tags": {
    "en_US": ["opencv", "edges", "canny"],
    "ja-JP": ["オープンCV", "エッジ", "賢い"],
    "es-ES": ["abrircv", "bordes", "astuto"],
    "de_DE": ["OpenCV", "Kanten", "schlau"],
    "zh_CN": ["opencv", "边缘", "精明的" ]
}</pre>
            </td>
        </tr>

        <tr>
            <td>icon</td>
            <td></td>
            <td><pre>"icon": "bi-heart-fill"</pre></td>
            <td>A bootstrap icon that represents the plugin in the UI</td>
            <td>
                <pre>"icon": "bi-star"</pre>
            </td>
        </tr>

        <tr>
            <td>category</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The category the plugin will be placed in the Tool Catalog</td>
            <td>
                If you want to specify your own new category
<pre>"category": {
    "id": "python_scripts",
    "description": "User defined python scripts",
    "icon": "bi-filetype-py"
}</pre>

                If you want to place it in an exisiting category
<pre>"category": {
    "id": "Photron"
}</pre>
            </td>
        </tr>

        <tr>
            <td>language</td>
            <td></td>
            <td></td>
            <td>Must be either python, c++ or cuda</td>
            <td>
                <pre>"language": "c++"</pre>
            </td>
        </tr>

        <tr>
            <td>supervise</td>
            <td></td>
            <td><pre>"supervise": false</pre></td>
            <td>
                Specifies if the plugin wants to handle supervion callbacks to enable/disable or hide/show parameters dynamically
                Note you must also set one of the input parameters to have a supervise attribute to be true which are the parameters
                that cause other parameters to change visibility
            </td>
            <td>
                <pre>"supervise": true</pre>
            </td>
        </tr>

        <tr>
            <td>inputs</td>
            <td></td>
            <td><pre>"inputs": []</pre></td>
            <td>An array of input objects that specifies each input of the plugin - see <a href="#InputSchema">inputs</a> schema</td>
            <td>
<pre>"inputs": [
    {
        "name": "source",
        "type": "image2D",
        "mandatory": true,
        "description":"Input image",
        "identifier": "source"
    },
    {
        "name": "threshold1",
        "type": "double",
        "default": "100.0",
        "mandatory": true,
        "description": "First threshold for the hysteresis procedure",
        "identifier": "threshold1"
    },
...
]
                </pre>
            </td>
        </tr>


        <tr>
            <td>outputs</td>
            <td></td>
            <td><pre>"outputs": []</pre></td>
            <td>An array of output objects that specifies each output of the plugin - see <a href="#OutputSchema">outputs</a> schema</td>
            <td>
<pre>"outputs": [
{
    "name": "out",
    "type": "image2D",
    "description": "Output edge map; single channels 8-bit image, which has the same size as image",
    "identifier": "out"
}
] </pre>
            </td>
        </tr>

    </table>


    <h4 id="InputSchema">Schema: inputs</h4>

    <table>
        <tr>
            <th>Attribute name</th>
            <th>Mandatory</th>
            <th>Default Value</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td>name</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The UI name of the input parameter</td>
            <td>
                <pre>"name" : "out"</pre>

                Or you can specify a localized set
<pre>"name": {
    "en_US": "out",
    "ja-JP": "外",
    "es-ES": "afuera",
    "de_DE": "aus",
    "zh_CN": "出去"
</pre>
            </td>
        </tr>

        <tr>
            <td>identifier</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The unique identifier for this input parameter</td>
            <td>
                <pre>"identifier": "out"</pre>
            </td>
        </tr>

        <tr>
            <td>description</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The description that explains the purpose of this output</td>
            <td>
                <pre>"description" : "Second threshold for the hysteresis procedure"</pre>

                Or you can specify a localized set

<pre>"description": {
    "en_US": "Second threshold for the hysteresis procedure",
    "ja-JP": "ヒステリシス手順の2番目の閾値",
    "es-ES": "Segundo umbral para el procedimiento de histéresis",
    "de_DE": "Zweiter Grenzwert für das Hystereseverfahren",
    "zh_CN": "滞后过程的第二个阈值"
}</pre>
            </td>
        </tr>

        <tr>
            <td>type</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>
                The type of the parameter which which include the standard types: int, double, int2, double2, bool, string, numeric, image2D, cuda2D.
                Or you can define your own type name.
            </td>
            <td>
                <pre>"type": "double"</pre>
            </td>
        </tr>

        <tr>
            <td>mandatory</td>
            <td></td>
            <td><pre>"mandatory": false</pre></td>
            <td>
                Specifies if the input parameter is mandatory and must be set by the user.
            </td>
            <td>
                <pre>"mandatory": true</pre>
            </td>
        </tr>

        <tr>
            <td>default</td>
            <td></td>
            <td></td>
            <td>
                The default value of the input parameter which is must be enclosed in a string.
                No default values should be needed for types that are not set directly by the user e.g. image2D and cuda2D
            </td>
            <td>
                <pre>"default": "200.0"</pre>
            </td>
        </tr>


        <tr>
            <td>min</td>
            <td></td>
            <td></td>
            <td>
                Only for numeric types such as int or double.
                The minimum value the input value can be set to
            </td>
            <td>
                <pre>"min": "5.0"</pre>
            </td>
        </tr>

        <tr>
            <td>max</td>
            <td></td>
            <td></td>
            <td>
                Only for numeric types such as int or double.
                The maximum value the input value can be set to
            </td>
            <td>
                <pre>"max": "10.0"</pre>
            </td>
        </tr>

        <tr>
            <td>step</td>
            <td></td>
            <td></td>
            <td>
                Only for numeric types such as int or double.
                The step value the increments of the parameter UI will jump up and down
            </td>
            <td>
                <pre>"step": "1.0"</pre>
            </td>
        </tr>


        <tr>
            <td>permitted</td>
            <td></td>
            <td></td>
            <td>
                Only for int or string types.
                An array of strings that will be in the selection UI menu or the tag selection UI
            </td>
            <td>
            </td>
        </tr>

        <tr>
            <td>private</td>
            <td></td>
            <td><pre>"private": false</pre></td>
            <td>
                Will not show the parameter in the UI
            </td>
            <td>
                <pre>"private": true</pre>
            </td>
        </tr>

        <tr>
            <td>editable</td>
            <td></td>
            <td><pre>"editable": true</pre></td>
            <td>
                If the parameter can be editable or not, if not editable it will be disabled in the UI
            </td>
            <td>
                <pre>"editable": false</pre>
            </td>
        </tr>

        <tr>
            <td>multiple</td>
            <td></td>
            <td><pre>"multiple": false</pre></td>
            <td>
                Only for string types that will allow multiple values to entered in the tag UI
            </td>
            <td>
                <pre>"multiple": true</pre>
            </td>
        </tr>

        <tr>
            <td>userOptionAllowed</td>
            <td></td>
            <td><pre>"userOptionAllowed": false</pre></td>
            <td>
                Only for string types that allow user defined strings to be entered in the tag UI
            </td>
            <td>
                <pre>"userOptionAllowed": true</pre>
            </td>
        </tr>

        <tr>
            <td>look</td>
            <td></td>
            <td></td>
            <td>
                A hint to indicate how the UI should be represented instead of the default look
                <br />
                int types: button, slider
                <br />
                int2, double2, numeric2: point
                <br />
                string: map, filebrowser, curve, path
                <br />

            </td>
            <td>
                <pre>"look": "button"</pre>
            </td>
        </tr>


        <tr>
            <td>ganged</td>
            <td></td>
            <td></td>
            <td>
                Only for int2, double2, numeric2 types that allows both the dimensions to be ganged and set to the same value
            </td>
            <td>
                <pre>"ganged": "button"</pre>
            </td>
        </tr>


        <tr>
            <td>multiline</td>
            <td></td>
            <td><pre>"multiline": false</pre></td>
            <td>
                Only for string types that indicate if the UI should have a textarea or a single textfield widget
            </td>
            <td>
                <pre>"multiline": true</pre>
            </td>
        </tr>

        <tr>
            <td>rows</td>
            <td></td>
            <td></td>
            <td>
                Only for string types with a multiline set to true, indicates the number of rows of the textarea widget
            </td>
            <td>
                <pre>"rows": 5</pre>
            </td>
        </tr>

        <tr>
            <td>cols</td>
            <td></td>
            <td></td>
            <td>
                Only for string types with a multiline set to true, indicates the number of columns of the textarea widget
            </td>
            <td>
                <pre>"cols": 10</pre>
            </td>
        </tr>

        <tr>
            <td>supervise</td>
            <td></td>
            <td><pre>"supervise": false</pre></td>
            <td>
                Specifies when this parameter changes if you want to handle supervion callbacks to enable/disable or hide/show parameters dynamically.
                Note you must also set the supervise attribute of the main JSON object to true as well
            </td>
            <td>
                <pre>"supervise": true</pre>
            </td>
        </tr>


    </table>


    <h4 id="OutputSchema">Schema: outputs</h4>

    <table>
        <tr>
            <th>Attribute name</th>
            <th>Mandatory</th>
            <th>Default Value</th>
            <th>Description</th>
            <th>Example</th>
        </tr>

        <tr>
            <td>name</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The UI name of the output parameter</td>
            <td>
                <pre>"name" : "threshold2"</pre>

                Or you can specify a localized set
<pre>"name": "name": {
"en_US": "threshold2",
"ja-JP": "閾値2",
"es-ES": "umbral2",
"de_DE": "Schwelle2",
"zh_CN": "阈值2"
}</pre>
            </td>
        </tr>

        <tr>
            <td>identifier</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The unique identifier for this output parameter</td>
            <td>
                <pre>"identifier": "threshold2"</pre>
            </td>
        </tr>

        <tr>
            <td>description</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>The description that explains the purpose of this output</td>
            <td>
                <pre>"description" : "Output edge map; single channels 8-bit image, which has the same size as image"</pre>

                Or you can specify a localized set

<pre>"description": {
    "en_US": "Output edge map; single channels 8-bit image, which has the same size as image",
    "ja-JP": "出力エッジマップ。画像と同じサイズの単一チャネル8ビット画像。",
    "es-ES": "Mapa de borde de salida; imagen de 8 bits de canales individuales, que tiene el mismo tamaño que la imagen",
    "de_DE": "Ausgabekantenkarte; Einzelkanal-8-Bit-Bild, das die gleiche Größe wie das Bild hat",
    "zh_CN": "输出边缘图；单通道8位图像，与图像大小相同"
}</pre>
            </td>
        </tr>

        <tr>
            <td>type</td>
            <td><i class="bi bi-check"></i></td>
            <td></td>
            <td>
                The type of the parameter which which include the standard types: int, double, int2, double2, bool, string, map, numeric, image2D, cuda2D.
                Or you can define your own type name.
            </td>
            <td>
                <pre>"type": "image2D"</pre>
            </td>
        </tr>

    </table>


    <h3 id="PythonSDK">Python SDK</h3>
    <p>
        The Python SDK uses the PythonNode base class and at a minimum you need to define a new instance which you should return in the <i>result</i> variable.
        The final plugin will be the python script and should be placed in the Extensions folder together with its JSON file.
        A simple example is the days_of_weeks.py sample plugin provided. The python code is as follows
    </p>
<pre>
from python_node import PythonNode
import datetime
class DayOfWeekNode(PythonNode):
	def __init__(self):
		super().__init__()
		self.value = None

	def execute(self):
		if not self.is_enabled():
			self.value =  False
		else:
			year = self.get_input_int_value(0)
			month = self.get_input_int_value(1)
			day = self.get_input_int_value(2)

			self.value = datetime.datetime.strptime(str(day) + "/" + str(month+1) + "/" + str(year), "%d/%m/%Y").strftime('%A')

		self.set_output_value(0, self.value)
	
	....
		
	def copy(self):
		return DayOfWeekNode()

result = DayOfWeekNode()
</pre>

    <p>The following methods should be overriden by your derived class of <i>PythonNode</i></p>
    <table>
        <tr>
            <th>Instance method</th>
            <th>Mandatory</th>
            <th>Arguments</th>
            <th>Return type</th>
            <th>Purpose</th>
        </tr>

        <tr>
            <td>copy</td>
            <td><i class="bi bi-check"></i></td>
            <td><pre>self</pre></td>
            <td><pre>instance of this plugin class</pre></td>
            <td>You should make a copy of the class instance and return it</td>
        </tr>

        <tr>
            <td>execute</td>
            <td><i class="bi bi-check"></i></td>
            <td><pre>self</pre></td>
            <td><pre>None</pre></td>
            <td>The method called when the plugin is executed usually when some input parameters have changed</td>
        </tr>

        <tr>
            <td>view_html</td>
            <td><i class="bi bi-check"></i></td>
            <td><pre>self, output_port_num : int</pre></td>
            <td><pre>string</pre></td>
            <td>The method is called when the output oif viewed, should return a html string that represents the output</td>
        </tr>

        <tr>
            <td>has_dynamic_inputs</td>
            <td></td>
            <td><pre>self</pre></td>
            <td><pre>bool</pre></td>
            <td>
                Returns if the plugin has dynamic inputs, defaults to False
            </td>
        </tr>

        <tr>
            <td>has_dynamic_outputs</td>
            <td></td>
            <td><pre>self</pre></td>
            <td><pre>bool</pre></td>
            <td>
                Returns if the plugin has dynamic outputs, defaults to False
            </td>
        </tr>

    </table>

    <p>The following methods should can be called on the <i>PythonNode</i></p>
    <table>
        <tr>
            <th>Instance method</th>
            <th>Purpose</th>
            <th>Example</th>
        </tr>

        <tr>
            <td>get_input_value</td>
            <td>
                During exeuction you can get the value of an input to the plugin, where you pass the order of the parameter
                E.g. pass 0 for the first input parameter
            </td>
            <td><pre>value = self.get_input_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_bool_value</td>
            <td>
                A helper method that calls get_input_value and returns the value as a bool Python type
            </td>
            <td><pre>value = self.get_input_bool_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_int_value</td>
            <td>
                A helper method that calls get_input_value and returns the value as a int Pythontype
            </td>
            <td><pre>value = self.get_input_int_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_numeric_value</td>
            <td>
                A helper method that calls get_input_value and returns a float, int or bool Python type
            </td>
            <td><pre>value = self.get_input_numeric_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_string_value</td>
            <td>
                A helper method that calls get_input_value and returns a str Python type
            </td>
            <td><pre>value = self.get_input_string_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_filename_value</td>
            <td>
                A helper method that calls get_input_value and returns a str Python type and resolves the path (replacing the <i>${assets}</i> with the correct path)
            </td>
            <td><pre>value = self.get_input_filename_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_map_value</td>
            <td>
                A helper method that calls get_input_value and returns a dict Python type
            </td>
            <td><pre>value = self.get_input_map_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_bool_list_value</td>
            <td>
                A helper method that calls get_input_value and returns a list of bool Python type
            </td>
            <td><pre>value = self.get_input_bool_list_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_numeric_list_value</td>
            <td>
                A helper method that calls get_input_value and returns a list of float, int or bool Python type
            </td>
            <td><pre>value = self.get_input_numeric_list_value(3)</pre></td>
        </tr>

        <tr>
            <td>get_input_string_list_value</td>
            <td>
                A helper method that calls get_input_value and returns a list of str Python type
            </td>
            <td><pre>value = self.get_input_string_list_value(3)</pre></td>
        </tr>

        <tr>
            <td>set_output_value</td>
            <td>
                During exeuction you can set the value of an output to the plugin, where you pass the order of the parameter and the value
                E.g. pass 0 for the first input parameter
                This also will set the dirty flag to False (see set_dirty)
            </td>
            <td><pre>self.set_output_value(0, result)</pre></td>
        </tr>

        <tr>
            <td>set_dirty</td>
            <td>
                During exeuction you can set if the node has been executed by setting dirty flag to False. This is automatically set when you
                set the outputs but you can set it to True if you want to have the node get executed again
            </td>
            <td><pre>self.set_dirty(True)</pre></td>
        </tr>

        <tr>
            <td>get_num_inputs</td>
            <td>
                Returns the number of inputs that plugin has
            </td>
            <td><pre>value = self.get_num_inputs()</pre></td>
        </tr>

        <tr>
            <td>get_num_outputs</td>
            <td>
                Returns the number of outputs that plugin has
            </td>
            <td><pre>value = self.get_num_outputs()</pre></td>
        </tr>

        <tr>
            <td>set_error_message</td>
            <td>
                Sets an error message that will be shown in the UI
            </td>
            <td><pre>self.error_message("Something bad happened")</pre></td>
        </tr>

        <tr>
            <td>is_enabled</td>
            <td>
                Returns if the node is enabled
            </td>
            <td><pre>value = self.is_enabled()</pre></td>
        </tr>

    </table>


    <h3 id="CppSDK">C++ SDK</h3>
    <p>
        The C++ SDK is based on compiling a DLL using some standard headers and libraries provided in the INFINIWORFLOW SDK patch package.
        You can use the exisiting Canny2 example as a starting point and rename all the files to your plugin name.
        The final plugin will be a DLL but prefixed with the .plugin extension and should be placed in the Extensions folder together with its
        JSON file.
        The SDK is based on Microsoft Visual Studio 2022 and only supports x86_64 builds.
    </p>

    <p>The following methods should be overriden by your derived class of <i>PluginApi</i></p>
    <table>
        <tr>
            <th>Instance method</th>
            <th>signature</th>
            <th>Purpose</th>
        </tr>



        <tr>
            <td>setup</td>
            <td><pre>bool setup(PluginHost * host);</pre></td>
            <td>
                Setup a Plugin and will be called anytime the thread to run the plugin is started
            </td>
        </tr>

        <tr>
            <td>update</td>
            <td><pre>bool update(PluginHost * host, BlobHandle blob, int inputIndex);</pre></td>
            <td>
                Update the Plugin instance based on a change of the input blob
                This will be called anytime the user changes a property, the inputIndex is the index into the "inputs" array in the JSON representing the parameters
                Typically you can copy the value of the contents of the Blob instance (using the host API such as getAsDouble) and then copy this into your plugin instance
            </td>
        </tr>

        <tr>
            <td>superviseInputs</td>
            <td><pre>bool superviseInputs(PluginHost * host, int* inputsFlags);</pre></td>
            <td>
                Called if the plugin sets "supervise" in the JSON and will allow you to enable/disable and/or hide or show parameters
                The inputsFlags is an array that is the size of the number of inputs and you are responsible to set the values
                You can set the flags SUPERVISE_FLAG_NORMAL (0) to have it shown regularly
                Or set it to the flag SUPERVISE_FLAG_HIDDEN (1) to have it hidden
                Or set it to the flag SUPERVISE_FLAG_DISABLED (2) to have it disabled
            </td>
        </tr>

        <tr>
            <td>execute</td>
            <td><pre>bool execute(PluginHost * host);</pre></td>
            <td>
                Execute a Plugin - you can call the pluginGetOutputBlob to get the output blob
                Return true if success or false otherwise
            </td>
        </tr>

        <tr>
            <td>isCached</td>
            <td><pre>bool isCached(PluginHost * host);</pre></td>
            <td>
                Asks node if it has cached any blob values inits instance variables
                If so then the host may call flushCache
            </td>
        </tr>

        <tr>
            <td>flushCache</td>
            <td><pre>bool flushCache(PluginHost * host);</pre></td>
            <td>
                Asks node to flush its cache - anything it has stored must be released
                For example, if you have cached the image as a Mat then release it
            </td>
        </tr>

        <tr>
            <td>teardown</td>
            <td><pre>bool teardown(PluginHost * host);</pre></td>
            <td>
                Teardown called anytime the thread to run the plugin is stopped
            </td>
        </tr>

        <tr>
            <td>destroy</td>
            <td><pre>bool destroy(PluginHost * host);</pre></td>
            <td>
                Destroy a Plugin which is you can destroy your plugin instance data
            </td>
        </tr>


    </table>


    <p>The following methods should can be called on the <i>PluginHost</i> that is passed into the API methods of <i>PluginApi</i></p>
    <table>
        <tr>
            <th>Signiture</th>
            <th>Purpose</th>
        </tr>

        <tr>
            <td>BlobHandle getOutputBlob(int outputNum)</td>
            <td>
                Get the Output Blob handle which can be callied during the executePlugin call, the outputNum is the index into the "outputs" array in the JSON representing the output
            </td>
        </tr>

        <tr>
            <td>void setNumOutputs(int numOutputs)</td>
            <td>
                Sets the number of outputs the blob supports and can be called during makePlugin
            </td>
        </tr>

        <tr>
            <td>void setErrorMessage(const char *message)</td>
            <td>
                Notifies an error has occurred which will be shown in the UI
            </td>
        </tr>

        <tr>
            <td>void isEnabled()</td>
            <td>
                Checks if the node is enabled, if not then the plugin should usually just copy source to output
            </td>
        </tr>

        <tr>
            <td>bool hasOutputObservers(int outputIndex)</td>
            <td>
                Returns if the output is currently connected - only render the output if it has observers
            </td>
        </tr>

        <tr>
            <td>cv::Mat& getAsImage2D(BlobHandle blob)</td>
            <td>
                From the blob handle get the reference to a two dimensional image represented by OpenCV matrix
            </td>
        </tr>

        <tr>
            <td>cv::Mat& getAsMatrix2D(BlobHandle blob)</td>
            <td>
                From the blob handle get the reference to a two dimensional matrix represented by OpenCV matrix
            </td>
        </tr>


        <tr>
            <td>double &getAsDouble(BlobHandle blob)</td>
            <td>
                From the blob handle get the double value it represents
            </td>
        </tr>

        <tr>
            <td>int &getAsInt(BlobHandle blob)</td>
            <td>
                From the blob handle get the int value it represents
            </td>
        </tr>

        <tr>
            <td>bool &getAsBool(BlobHandle blob)</td>
            <td>
                From the blob handle get the bool value it represents
            </td>
        </tr>

        <tr>
            <td>std::string &getAsString(BlobHandle blob)</td>
            <td>
                From the blob handle get the string value it represents
            </td>
        </tr>

        <tr>
            <td>std::string &getAsFilename(BlobHandle blob)</td>
            <td>
                From the blob handle get the filename value it represents, resolving the prefix <i>${assets}</i>
            </td>
        </tr>

        <tr>
            <td>double *getAsDouble2(BlobHandle blob)</td>
            <td>
                From the blob handle get the 2D double point value it represents
            </td>
        </tr>

        <tr>
            <td>int *getAsInt2(BlobHandle blob)</td>
            <td>
                From the blob handle get the 2D integer point value it represents
            </td>
        </tr>

        <tr>
            <td>float *getAsColor3f(BlobHandle blob)</td>
            <td>
                From the blob handle get the color RGB value it represents
            </td>
        </tr>

        <tr>
            <td>void cloneFromImage(BlobHandle blob, cv::Mat& dest)</td>
            <td>
                From the blob handle gets a cloned copy (which may be opencv mat or cuda memory)
            </td>
        </tr>

    </table>


    <div style="height:100px;">

    </div>
</body>
</html>
